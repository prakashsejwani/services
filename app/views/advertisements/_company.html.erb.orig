<%= javascript 'dynamic_localities' %>
<tr>
    <td valign="top">Name</td>
    <td valign="top"><%= f.text_field :name %></td>	
</tr>
<tr>
    <td valign="top">Address</td>
    <td valign="top"><%= f.text_field :address1 %></td>	
</tr>
<tr>
    <td>&nbsp;</td>
    <td valign="top"><%= f.text_field :address2 %></td>	
</tr>
<tr>
    <td valign="top">City</td>
    <td valign="top"><div style="width:34%;float:left"><%= f.collection_select :city_id, @cities, :id, :name, {:prompt => true}, {:selected => params[:city_id]} %></div>
    <div style="width:20%;float:left;text-align:right"><%= f.label :locality_id %>&nbsp;&nbsp;</div>
    <div style="width:45%;float:right;"><%= f.collection_select :locality_id, @localities, :id, :name, {:prompt => true}, {:selected => params[:locality_id]} %></div></td>	
</tr>	
<tr>
    <td valign="top">State</td>
    <td valign="top"><%= f.text_field :state, :value => "Maharashtra" %></td>	
</tr>
<tr>
    <td valign="top">Country</td>	
    <td valign="top"><%= f.text_field :country, :value => "India" %></td>
</tr>
<tr>
    <td valign="top">Pincode</td>	
    <td valign="top"><%= f.text_field :pincode, :size => 17 %></td>
</tr>
<tr>
    <td valign="top"><label>Phone No.</label></td>	
    <td valign="top">
		<%= f.text_field :phone1, :size => 17 %> / 
		<%= f.text_field :phone2, :size => 17 %>
	</td>
</tr>
<tr>
    <td valign="top">Fax No.</td>	
    <td valign="top"><%= f.text_field :fax, :size => 17 %></td>
</tr>
<tr>
    <td valign="top">E-mail</td>	
    <td valign="top"><%= f.text_field :email %></td>
</tr>
<tr>
    <td valign="top">Company Url</td>	
    <td valign="top"><%= f.text_field :ad_url %></td>		
</tr>
<tr>
    <td valign="top">Contact Person</td>	
    <td valign="top"><%= f.text_field :contact %></td>
</tr>
<tr>
    <td valign="top">About</td>	
    <td valign="top"><%= f.text_area :about %></td>
</tr>
<tr>
    <td valign="top">Business</td>
    <td valign="top"><%= f.collection_select :business_id, @businesses, :id, :name, {:prompt => true} %></td>
</tr>
<tr>
    <td valign="top">Categories/Products</td>	
    <td valign="top"><%= select_tag :category, options_for_select(@categories.collect {|p| [ p.name, p.id]}), {:multiple => true, :size => 4} %>
<<<<<<< HEAD:app/views/advertisements/_company.html.erb
                     <%= link_to_function '+' do|page|
		        page << "var selectedOption = $A($('category').options).find(function(option) { return option.selected; } )"
			page << "var chk"
			page << "options = $('category_ids').options"			
		  	page << "if($('category_ids').options.length==0){"
                        page << "oparray.push(new Array(selectedOption.text , selectedOption.value))"
		        page << "for(var i=0;i<oparray.length;i++){"
			page << "options[i] = Option(oparray[i][0], oparray[i][1])"					
                        page << "}"
		        page << "}else{"			
		        page << "for(var j=0; j<$('category_ids').options.length;j++){"
			
                        page << "if(selectedOption.value == $('category_ids').options[j].value){"
			
			page << "chk = yes"
			page << "break"
		        page << "}}"
			page << "if(chk==yes){"
			page << "alert('already selected')"
                        page << "oparray.push(new Array(selectedOption.text , selectedOption.value))"
		        page << "for(var i=0;i<oparray.length;i++){"
			page << "options[i] = Option(oparray[i][0], oparray[i][1])"			
                        page << "}"
			page << "break"
		        page << "}"
		        page << "}"
		   	page << "}"						
		     end
		     %></td>		
</tr>				  
<tr>				                         
    <td valign="top"></td>	
=======
	
            Select add in below select box with this Icon<%= link_to_function image_tag("add.gif") do|page|
		     page << "var selectedOption = $A($('category').options).find(function(option) { return option.selected; } )"
			 page << "options = $('category_ids').options"		 		
			 page << "var op = selectedOption.text"
			 page << "var duplicate = 0"
			 page << "for(var i=0;i<options.length;i++){" 
			 page << "if (options[i].text==op){"
			 page << "duplicate = 1"
			 page << "alert('already exists!')"
			 page << "break}"
			 page << "else{"
			 page << "duplicate = 0 }"			             
             page << "}"
			 page << "if (duplicate==0){"
			 page << "options[options.length] = Option(selectedOption.text , selectedOption.value) }"
             					
		    end%></td>		
</tr>		  
<tr>				                         
    <td valign="top">Fill the categories</td>	
>>>>>>> 837b9050859c5a631280e6cd0522dbf4a9a01ade:app/views/advertisements/_company.html.erb
    <td valign="top"><%= select_tag :category_ids, {},{:multiple => true, :size => 4} %>
		    <%= link_to_function "remove" do|page|
			  page << "var selectOption = $A($('category_ids').options).find(function(option) { return option.selected; })"
			  page << "selectOption.remove()"
			  page << "for(var i=0;i<oparray.length;i++){"
			  page << "if(selectOption.value==oparray[i][1]){"
			  page << "oparray.splice(i,1)"
			  page << "}}"
<<<<<<< HEAD:app/views/advertisements/_company.html.erb
		       end
		    %></td>		
</tr>
<tr>
    <td valign="top">Scroll_ads</td>	
    <td valign="top"><%= f.file_field :image_ad, :size => "32" %></td>		
</tr>
<!--page << "if(selectOption.value==oparray[i][1])"
			  page << "oparray[i].remove()"-->
=======
		     end%></td>			    	
</tr>
>>>>>>> 837b9050859c5a631280e6cd0522dbf4a9a01ade:app/views/advertisements/_company.html.erb
